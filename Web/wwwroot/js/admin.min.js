function ChangePasswordAdmin(n){if(EnableDisableButton($(n),!0),toastr.remove(),$("#ChangePasswordFrm").valid())$.ajax({type:"Post",url:"/Admin/User/ChangePassword",data:$("#ChangePasswordFrm").serialize(),success:function(n){toastr.success(n.message);setTimeout(function(){window.location.href="/Account/Logout"},setTimeoutIntervalEnum.onRedirection)},error:function(t){toastr.error(t.responseJSON?.message);EnableDisableButton($(n),!1)}});else return EnableDisableButton($(n),!1),!1}function ChangeUserStatus(n,t,i,r,u){toastr.remove();let e=u.hasAttribute("checked"),f="";f=r?t?$("#activateUserMsg").val():$("#deactivateUserMsg").val():i?$("#deleteUserMsg").val():$("#recoverUserMsg").val();swal({title:"Are you sure?",text:f,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes"}).then(function(f){f?($.ajax({url:"/Admin/User/ChangeUserStatus",data:{UserId:n,ActiveStatus:t,DeleteStatus:i,IsActiveStatusChange:r},type:"Post",success:function(n){toastr.success(n.message);setTimeout(function(){window.location.reload()},setTimeoutIntervalEnum.onRedirection)},error:function(n){toastr.error(n.responseJSON?.message)}}),LoadTable()):f.dismiss===Swal.DismissReason.cancel&&(e?$(u).addClass("activeSlide"):$(u).removeClass("activeSlide"))})}$(function(){$.when(users.ResetStateSaveDataTable()).then(function(){users.List()})});let MemberEmail=[],isValidate=!0,table=$("#data-table_users"),users={ResetStateSaveDataTable:function(){common.isReferrer()&&table.DataTable().state.clear()},List:function(){let n=[];$(table).find("thead tr th").each(function(t,i){let r=$(i).data("name"),u;switch(r.toLowerCase()){case"id":u={data:null,name:null,width:"23px",maxWidth:"23px",render:function(n,t,i,r){return r.row+r.settings._iDisplayStart+1}};break;case"name":u={data:null,name:r,"class":"fw-semibold",mRender:function(n){return`${n.name}`}};break;case"isactive":u={data:null,name:r,mRender:function(n){return n.isActive?`<label class="switch">
                                        <input type="checkbox" class="user-status" checked onclick="ChangeUserStatus(`+n.id+`, false, `+r.toLowerCase().includes("isdeleted")+`, true, this)">
                                        <span class="slider activeSlide"></span>
                                    </label>`:`<label class="switch">
                                        <input type="checkbox" class="user-status" onclick="ChangeUserStatus(`+n.id+`, true, `+r.toLowerCase().includes("isdeleted")+`, true, this)">
                                        <span class="slider"></span>
                                    </label>`}};break;case"isdeleted":u={data:null,name:r,mRender:function(n){return n.isDeleted?`<i class="fas fa-check" title="Deleted" style="cursor: pointer;" onclick="ChangeUserStatus(`+n.id+`, `+n.isActive+`, false, false, this)"></i>`:`<i class="fas fa-trash" title="Not Deleted" style="cursor: pointer;" onclick="ChangeUserStatus(`+n.id+`, `+n.isActive+`, true, false, this)"></i>`}};break;case"action":u={data:null,name:null,mRender:function(n){return`<a href="/Admin/User/Detail?id=${n.id}" class="me-2" onclick = "" title = "Edit" > <i class="fas fa-edit"></i></a >`}};break;default:u={data:r.charAt(0).toLowerCase()+r.slice(1),name:r}}n.push(u)});tbl.BindTable(table,`/Admin/User/Index`,{},n,[0,7])},UpdateUser:function(n){$("#frmUpdateUser").valid()&&(EnableDisableButton($(n),!0),ajax.Post(`/Admin/User/Detail`,$("#frmUpdateUser").serialize(),function(n){EnableDisableButton(this,!1);toastr.success(n.message);setTimeout(function(){location.href="/Admin/User/Index"},setTimeoutIntervalEnum.onRedirection)},function(){}))}};